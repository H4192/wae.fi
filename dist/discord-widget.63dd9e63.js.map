{"mappings":"YAKA,IAWMA,EAASC,SAASC,eAAe,gBACjCC,EAAOF,SAASC,eAAe,eAGrC,SAASE,IACPC,MAAM,mEACHC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAACG,GACLN,EAAKO,qBAAqB,QAAQ,GAAGC,UAAYF,EAAIG,eACrDZ,EAAOa,UAAUC,IAAI,QAErBC,YAAW,WACTf,EAAOa,UAAUG,OAAO,UACvBC,QAEJC,OAAM,SAAAC,GACL,MAAMA,KAIZJ,YAAW,WACTX,IACAgB,YAAYhB,EAAmBiB,OAC9BC","sources":["./src/js/discord-widget.js"],"sourcesContent":["// This script makes use of Discord's Server Widget feature which has a integrated json api.\n// For this to work, make sure that you have enabled Server Widget for your Discord server.\n\n\n// Put your guild ID here\nconst guildID = '95873997861834752';\n\n// Delay in seconds before the code will be executed for the first time\nconst initialDelay = 3;\n\n// Time in seconds of how long the member counter is shown on the screen\nconst displayTime = 7;\n\n// Time in seconds of how long should we wait before showing the counter again\nconst fetchInterval = 80;\n\nconst widget = document.getElementById(\"widgetObject\");\nconst span = document.getElementById(\"memberCount\");\n\n// Fetch and show the member counter\nfunction showOnlineMembers() {\n  fetch('https://discordapp.com/api/guilds/' + guildID + '/widget.json')\n    .then(res => res.json())\n    .then((out) => {\n      span.getElementsByTagName(\"span\")[0].innerHTML = out.presence_count;\n      widget.classList.add(\"show\");\n\n      setTimeout(function () {\n        widget.classList.remove(\"show\");\n      }, displayTime * 1000);\n    })\n    .catch(err => {\n      throw err;\n    });\n}\n\nsetTimeout(function () {\n  showOnlineMembers();\n  setInterval(showOnlineMembers, fetchInterval * 1000);\n}, initialDelay * 1000);"],"names":["widget","document","getElementById","span","showOnlineMembers","fetch","then","res","json","out","getElementsByTagName","innerHTML","presence_count","classList","add","setTimeout","remove","displayTime","catch","err","setInterval","fetchInterval","initialDelay"],"version":3,"file":"discord-widget.63dd9e63.js.map"}